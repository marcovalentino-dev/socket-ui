*{box-sizing:border-box;margin:0;padding:0}
body{
  background:radial-gradient(circle at center,#000,#050515 80%);
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  perspective:1000px;
  font-family:'Segoe UI',sans-serif;
}

/* Container scene */
.scene{
  position:relative;
  width:300px;
  height:200px;
}

/* Checkbox to toggle */
#toggle{display:none;}
.trigger{
  position:absolute;
  top:-40px;
  left:0;
  right:0;
  text-align:center;
  cursor:pointer;
  color:#fff;
  font-weight:bold;
  font-size:1rem;
  user-select:none;
}

/* Chest base */
.chest{
  position:absolute;
  width:200px;
  height:120px;
  top:40px;
  left:50%;
  transform:translateX(-50%) rotateX(-20deg) rotateY(25deg);
  transform-style:preserve-3d;
}

.panel{
  position:absolute;
  background:linear-gradient(#5c3a1b,#3a2410);
  border:3px solid #2a190b;
}

/* base faces */
.front{
  width:200px;height:120px;
  transform:translateZ(50px);
}
.back{
  width:200px;height:120px;
  transform:rotateY(180deg) translateZ(50px);
}
.left{
  width:100px;height:120px;
  transform:rotateY(-90deg) translateZ(100px);
}
.right{
  width:100px;height:120px;
  transform:rotateY(90deg) translateZ(100px);
}
.bottom{
  width:200px;height:100px;
  transform:rotateX(-90deg) translateZ(60px);
}

/* Lid group */
.lid{
  position:absolute;
  width:200px;
  height:100px;
  top:-100px;
  transform-origin:bottom;
  transform-style:preserve-3d;
  transition:transform 1s cubic-bezier(.77,0,.18,1);
}
.lid-top,.lid-front,.lid-back,.lid-left,.lid-right{
  position:absolute;
  background:linear-gradient(#7a4d28,#4b2b14);
  border:3px solid #2a190b;
}
.lid-top{
  width:200px;height:100px;
  transform:translateZ(50px);
}
.lid-front{
  width:200px;height:100px;
  transform:rotateX(90deg) translateZ(50px);
}
.lid-back{
  width:200px;height:100px;
  transform:rotateX(-90deg) translateZ(50px);
}
.lid-left{
  width:100px;height:100px;
  transform:rotateY(-90deg) translateZ(100px);
}
.lid-right{
  width:100px;height:100px;
  transform:rotateY(90deg) translateZ(100px);
}

/* Glow inside */
.treasure{
  position:absolute;
  top:30px;
  left:50%;
  transform:translateX(-50%) translateZ(40px);
  width:160px;
  height:60px;
  background:radial-gradient(circle,#ffd86b 0%, transparent 70%);
  border-radius:50%;
  filter:blur(10px);
  opacity:0;
  text-align:center;
}
.treasure span{
  color:#fff8d9;
  font-size:1.2rem;
  text-shadow:0 0 10px #ffd86b,0 0 20px #ffe9a3;
  position:relative;
  top:20px;
  opacity:0;
  transition:opacity 0.6s ease 0.4s;
}

/* Open animation */
#toggle:checked ~ .chest .lid{
  transform:rotateX(-110deg);
}
#toggle:checked ~ .chest .treasure{
  opacity:1;
}
#toggle:checked ~ .chest .treasure span{
  opacity:1;
}
